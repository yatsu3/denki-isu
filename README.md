# 電気椅子ゲーム

水曜日のダウンタウンの企画でやっていた電気椅子ゲームをブラウザで遊べるReactアプリケーションです。

## ゲームルール

### 参加者と椅子の配置
- ゲームにはプレイヤー1とプレイヤー2が参加します
- 12脚のイスがあり、それぞれ1から12までの番号がつけられています

### ゲームの流れ
1. **表の攻撃**
   - プレイヤー1が電流を流す椅子を選択
   - プレイヤー2が座る椅子を選択
   - 選ばれた椅子の番号が一致した場合、プレイヤー2が電流を食らいます

2. **裏の攻撃**
   - プレイヤー2が電流を流す椅子を選択
   - プレイヤー1が座る椅子を選択
   - 選ばれた椅子の番号が一致した場合、プレイヤー1が電流を食らいます

### 勝利条件
- ゲームは最大8回のラウンドで行われます
- 電流を食らった場合はその時点でポイントが没収されます
- 8回のラウンド終了後にポイントが多い方が勝利します
- 相手に3回電流を食らわせたプレイヤーが勝利します

### その他のルール
- 電流を食らわなかった場合、その座った椅子の番号がポイントとなります
- 同じ番号の椅子は2回目以降座ることができません（除去されます）

## セットアップ

### 必要な環境
- Node.js (v14以上)
- npm または yarn

### インストール手順

#### 1. クライアント側（React）
```bash
# 依存関係をインストール
npm install

# 開発サーバーを起動
npm start
```

#### 2. サーバー側（WebSocket）
```bash
# サーバーディレクトリに移動
cd server

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

#### 3. アクセス
- クライアント: `http://localhost:3000`
- サーバー: `http://localhost:3001`

## 使い方

1. **トップページ**
   - 「部屋を作る」ボタンで新しいゲームルームを作成
   - 「部屋に入る」ボタンで既存のルームに参加

2. **部屋作成**
   - ランダムな10桁の部屋番号が生成されます
   - 部屋番号をクリックしてコピーできます
   - 相手の参加を待ちます

3. **部屋参加**
   - 部屋番号を入力して入室します
   - 10桁の英数字で入力してください

4. **ゲームプレイ**
   - 表の攻撃と裏の攻撃を交互に行います
   - 椅子をクリックして選択し、「選択終了」ボタンを押します
   - ゲーム終了まで続けます

## 技術スタック

### フロントエンド
- React 18
- React Router DOM
- Socket.IO Client
- CSS3 (Grid, Flexbox)

### バックエンド
- Node.js
- Express
- Socket.IO
- CORS

## プロジェクト構造

```
denki-isu/
├── public/                 # 静的ファイル
├── src/                    # Reactソースコード
│   ├── components/         # Reactコンポーネント
│   ├── services/           # Socket.IOサービス
│   └── ...
├── server/                 # サーバーサイド
│   ├── server.js           # メインサーバーファイル
│   └── package.json        # サーバー依存関係
└── package.json            # クライアント依存関係
```

## 開発

### 同時起動
両方のサーバーを同時に起動するには、別々のターミナルで以下を実行：

```bash
# ターミナル1: クライアント
npm start

# ターミナル2: サーバー
cd server && npm run dev
```

### デバッグ
- クライアント: `http://localhost:3000`
- サーバーヘルスチェック: `http://localhost:3001/health`
- 部屋一覧（デバッグ）: `http://localhost:3001/rooms`

## 今後の改善点

- 音響効果の追加
- アニメーションの強化
- 複数人対応
- データベース連携
- ユーザー認証
- ゲーム履歴保存

## ライセンス

MIT License 
